<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="CartMapper">

    <!-- 장바구니 상태 업데이트 -->
    <update id="updateCartState">
        UPDATE cart
        SET state = #{state}
        WHERE cart_id = #{cartId}
    </update>

    <!-- 장바구니 상태 '결제중'에서 '장바구니'로 롤백 -->
    <update id="rollbackCartState">
        UPDATE cart
        SET state = '장바구니'
        WHERE cart_id = #{cartId} AND state = '결제중'
    </update>

</mapper>
